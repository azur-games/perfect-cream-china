# Advertising plugin

## 1.7.16-transfer.1 - 2021-03-23
* Добавлен ивент `OnAdBeforeShow`.

## 1.7.16 - 2021-10-20
* Изменена логика отправки ивента `availability_check`.

## 1.7.15 - 2021-08-31
* Добавлено условие обновления таймера активности из `ActivityUpdater`

## 1.7.14 - 2021-08-26
* Исправлено отключение звуков игры при ошибке показа рекламного креатива.

## 1.7.13 - 2021-08-02
* Добавлено обновление таймера активности из `ActivityUpdater`

## 1.7.12 - 2021-05-15
* Адаптация плагина под использование новой системы покупок.
* Адаптация плагина под актуальную версию General плагина.

## 1.7.11 - 2021-04-13
* Поднята версии Hive и General в зависимостях пакета.
* Сервисы изменены под атрибут `IQService`.
* Ссылки на `IoC` из General изменены на Hive.

## 1.7.10 - 2021-03-25
* Удалена отправка ивента `mopub_banner_availability_check`.

## 1.7.9
* Правка форматирования поля internal в package.json.

## 1.7.8
* Исправлено имя `BaneerType_Custom` на `BannerType_Custom`.

## 1.7.7
* Заглушение звуков во время рекламы изменено на их блокировку.

## 1.7.6
* Добавлено отключение воспроизведения звуков во время просмотра рекламы.

## 1.7.5
* Переименован плейсмент из `isNeedShowInterstitialBetweenLevelSegments` в `isNeedShowInterstitialAfterSegment`.

## 1.7.4
* Исправление двойной инициализации сервиса.

## 1.7.3
* Переписаны кастомные property для `AdvertisingEditorSettings`.

## 1.7.2
* Добавлен `Modules.Advertising.Editor` assembly definition.

## 1.7.1
* Перенесены классы `DpiPropertyDrawer`, `ModulePropertyDrawer` в папку с редактором.

## 1.7.0
* Класс `AdvertisingEditorSettings` переделан в сериализуемый обьект для возможности настройки из редактора. 
* Добавлена симуляция загрузки рекламы для первого видео и между видео (окончание одного ролика и загрузкой нового).
* Добавлена возможность использовать hotkey для закрытия рекламы с выбранным статусом.

## 1.6.2
* Правка package версий.

## 1.6.1
* Добавлена задержка отображения Interstitial рекламы при развороте приложения.

## 1.6.0
* Реализация данных для аб-тестирования rewarded video перенесена в `General Plugin`.
* Плагин адаптирован под поддержку новой системы аб-тестирования rewarded video.

## 1.5.4
* Добавлена реализация нового рекламного плейсмента `NextLevelSegment` - между подуровнями сегмента.

## 1.5.3
* Правки показа баннера при наличии уже существующего.

## 1.5.2
* Исправлено исправление показа баннера.

## 1.5.1
* Исправлен показ баннера и его взаимодействие с подпиской.

## 1.5.0
* Добавлена возможность конфигурировать (добавлять / обновлять) параметры для фунционирования плейсментов рекламы.
* Добавлена возможность конфигурировать (добавлять / обновлять) плейсменты рекламы. Таким образом можно настраивать уже существующие плейсменты по своим собственным параметрам.

## 1.4.4
* Исправлены ссылки на текстуры для реализации рекламы в редакторе.

## 1.4.3
* Ресериализация и актуализация метафайлов под Unity 2019.

## 1.4.2
* Исправлена асинхронная инициализация класса `EditorAdvertisingServiceImplementor`.

## 1.4.1
* Удалено создание экземпляра класса `AdvertisingManager` из его `Instance` геттера.

## 1.4.0
* Структура папок адаптирована под Package Manager.

## 1.3.1
* Свойство `DefaultRewardSettings` класса `AdsRewardedVideoPlacementsController` сделано статичным.

## 1.3.0
* Добавлена возможность блокировать/разблокировать показ рекламы через методы `LockAd` и `UnlockAd`.
  Как следствие, удалено свойство `IsInterstitialShouldBeBlocked`.
* Обновлено поведение баннера при его автоматическом показе. Теперь оно учитывает все параметры его доступности.
* Удалены методы `OnSubscriptionScreenOpened` и `OnSubscriptionScreenClosed`. Их использование заменено на свойство `IsSubscriptionShowing`.
* Добавлена задержка в 1 кадр в реализацию рекламы в редакторе для симуляции callback-ов `Show` и `Hide`.
* Добавлена дополнительная валидация статусов показа рекламы, без привязки на callback `Show` и `Hide`.

## 1.2.8
* Добавлено управление доступностью показа CrossPromo в зависимости от активности попапа подписки.

## 1.2.7
* Удален параметр `matchesBetweenInterstitials` и взаимодействие с ним.

## 1.2.6
* Добавлен префаб `EventSystem` в плагин.

## 1.2.5
* Обновлена дефолтная реализация `IAdvertisingNecessaryInfo`.
* Обновлена работоспособность ремоут параметра `matchesBetweenInterstitials` в соответствии с ТЗ.

## 1.2.4
* Добавлен автоматический Mute и UnMute звуков при показе и сокрытии рекламы соответственно.

## 1.2.3
* Исправлен баг показа баннера на уровень раньше.
* Исправлено функционирование ремоут параметра `matchesBetweenInterstitials`.
* Добавлена реализация `IAdvertisingNecessaryInfo` в классе `AdsNecessaryInfoServiceImplementation` с привязкой к `Service Container`.

## 1.2.2
* Исправлен баг с показом баннера без выполнения проверки на доступность показа.
* Исправлен баг с биндингом сервиса рекламы в `Service Container` при инициализации пустым массивом сервисов.

## 1.2.1
* Удалено устаревшее свойство `IsConsentShouldBeSet` в классе `AdvertisingManagerSettings`.

## 1.2.0
* Изменены параметры инициализации. Удален параметр для вызова `SetConsent`.

## 1.1.20
* Сервис адаптирован для работы с новым коллбеком InitializationQueue::OnErrorCallback.

## 1.1.19
* Убрана проверка на доступность рекламы из метода TryShowAdByModule.

## 1.1.18
* Изменены модификаторы доступа основных методов и свойств класса `AdvertisingManager`.

## 1.1.17
* Исправлен баг сокрытия Banner-a по показу Rewarded Video.
* Добавлено отображение рекламного плейсмента в редакторе.

## 1.1.16
* Актуализирована версия General-plugin-a.

## 1.1.15
* Добавлена плейсмент `NineChests` для Interstitial рекламы.
* Добавлена плейсмент `DefaultPlacementWithoutTimeAndMinLevelLimit` для Interstitial рекламы.

## 1.1.14
* Добавлена поддержка функционирования таймера рекламы в редакторе с использованием `Time.unscaledDeltaTime`.

## 1.1.13
* Логирование основных сообщений от рекламных сервисов выключено для редактора Unity.
* Изменена проверка доступности рекламы, теперь учитывается фактор показа рекламы.

## 1.1.12
* Исправлена инициализация плагина с пустым массивом сервисов.

## 1.1.11
* Исправлен краш на инициализации с пустым списком кастомных плейсментов.

## 1.1.10
* Добавлена отправка ивентов определения доступности рекламы.
* Изменена логика проверки доступности рекламы, теперь необходимым параметром также является имя плейсмента.
* Логика по определению доступности рекламных плейсментов перемещена в`BaseAdvertisingManager`.
* AdvertisingManager::Instance теперь работает как с использованием ServiceContainer так и без него.
* Исправлен вызов колбэка инициализации при инициализации через IoC.

## 1.1.9
* Добавлена возможность добавлять свои рекламные плейсменты на этапе инициализации `AdvertisingManager`.
* Проверка доступности интерстишалов через промежуток времени реализована как глобальное требование.

## 1.1.8
* Удален лишний параметр метода `GetPlacementSettings` в классе `AdvertisingManager`.

## 1.1.7
* Модификатор доступа поля `IsBaseTimeInterstitialAvailable` в классе `AdvertisingManager` изменен на protected.

## 1.1.6
* Удалены лишние поля из класса `DefaultAdvertisingTestData`.

## 1.1.5
* Плагин адаптирован для работы с InitializationQueue

## 1.1.4
* Основные классы для настроек rewarded video плейсментов перемещены в general plugin.

## 1.1.3
* Интерфейсы для взаимодействия с кросспромо перемещены в General Plugin.

## 1.1.2
* Основные интерфейсы перемещены в General Plugin для взаимодействия между плагинами.

## 1.1.1
* Добавлена проверка доступности плейсментов для всех модулей рекламы.

## 1.1.0
* Добавлено отображение рекламы в редакторе.
* Обновлено взаимодействие с LLApplicationStateRegister.

## 1.0.1
* Добавлен ремоут параметр для регулирования показа баннеров.
* Добавлена реализация некоторых рекламных плейсментов.

## 1.0.0
* Имплементирована ключевая логика плагина.