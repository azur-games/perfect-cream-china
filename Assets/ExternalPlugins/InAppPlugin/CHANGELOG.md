# InAppPurchase plugin

## 1.4.14-transfer.2 - 2022-03-22
* Удалены запросы на сервер с покупкой и продлением подписок.

## 1.4.14-transfer.1 - 2022-03-22
* Удалено обращение к ServerTimeChecker.

## 1.4.14 - 2022-02-15
* Исправлена ошибка с отправкой на сервер ивента при покупке подписки.

## 1.4.13 - 2022-01-21
* Удалён лог об истории покупок.

## 1.4.12 - 2021-12-24
* Добавлена автоматическая отправка информации о доступных подписках и пользователе на сервер после инициализации стора для приложений Амазон.

## 1.4.11 - 2021-12-06
* Добавлен класс `SubscriptionRewardManager`. Перенесен из плагина `UiKit`.

## 1.4.10 - 2021-12-03
* Изменен DateTime.Now на DateTime.UtcNow в `FakeComputableSubscriptionInfo`.

## 1.4.9 - 2021-12-01
* Добавлено форсирование завершения транзаций для подписок.

## 1.4.8 - 2021-11-15
* Исправлена ошибка округления, приводившая к отправке некорректных данных в аналитику

## 1.4.7 - 2021-10-28
* Добавлена поддержка покупок в HuaweiAppGallery.

## 1.4.6 - 2021-10-28
* Добавлена симуляция поведения SandBox для дебажных билдов андроид. Так как это свойство возвращает только иос, возникает много вопросов и проблем при тестировании наград для подписок на андроид в приложениях, где есть чек времени с сервера. Это свойство используется только там и в ивентах + андроид всегда собирается парно (релиз и дебаг), поэтому жизнь сильно упроститься.

## 1.4.5 - 2021-10-06
* Добавлена возможность тестирования рестора покупок в редакторе.

## 1.4.4 - 2021-10-05
* Добавлен аргумент причины неудачной покупки в конструктор `PurchaseItemResult` в колбэке `OnPurchaseFailed`.

## 1.4.3 - 2021-09-17
* Абсолютные пути в папке `ExternalDependencies/com.unity.purchasing/Editor` заменены на относительные, добавлен `UnityIapPluginHierarchy`.

## 1.4.2 - 2021-09-09
* Добавлено свойство `IsInitialized` в `StoreManager`.

## 1.4.1 - 2021-09-06
* Добавлена повторная попытка подключения при получении продуктов в `GooglePlayStoreService` - для обновления статуса `GoogleBillingConnectionState`.

## 1.4.0 - 2021-08-02
* Пакет `Unity IAP` интегрирован внутрь плагина.
* Изменен метод AppleStoreImpl:OnPurchaseSucceeded из `Unity IAP`: удалена проверка времени при успешной покупке подписки.

## 1.3.10 - 2021-08-10
* Исправлена инициализация `StoreManager`  - в офлайне подписка и ожидание

## 1.3.9 - 2021-08-10
* Исправлено получение `productId` для подписок в редакторе.

## 1.3.8 - 2021-08-07
* Добавлена поддержка подписок в редакторе.

## 1.3.7 - 2021-08-06
* Добавлен метод `ConfirmPendingPurchase` в `StoreManager` для отложенного завершения покупки.

## 1.3.6 - 2021-08-04
* Исправлен `StoreUtilities.StoreType` во время создания `StoreItem`.

## 1.3.5 - 2021-08-02
* Исправлена работа подписок в Амазон.

## 1.3.4 - 2021-07-08
* Исправлена отправка ивентов подписок в Амазон. Исправлена общая логика взятия ID для этого ивент.

## 1.3.3 - 2021-06-23
* Исправлена проблема с покупкой подписок на Amazon - добавлена поддержка родительского продукта.

## 1.3.2 - 2021-06-02
* Исправлена ошибка получения StoreItem во время сборки.

## 1.3.1 - 2021-05-14
* Добавлено несколько новых значений для плейсмента покупки подписки.

## 1.3.0 - 2021-04-30
* Адаптация плагина под актуальную версию General плагина.

## 1.2.1 - 2021-04-29
* Добавлен параметр `placement` в ивент покупки подписки.

## 1.2.0 - 2021-04-28
* Доработка плагина для возможности его корректной работы без использования Initialization Queue.

## 1.1.2 - 2021-04-27
* Исправлен список зависимостей плагина, указанный в InitQueueServiceAttribute.

## 1.1.1 - 2021-04-19
* Адаптация плагина под новую логику InitializationQueue.

## 1.1.0 - 2021-04-15
* Добавлена поддержка PurchaseResult.Pending.
* Добавлена поддержка поля purchaseDate для подписок на Amazon.
* Исправлена некорректная работа PurchaseValidator на Amazon.
* Используемая версия пакета Unity IAP установлена в 3.0.2.

## 1.0.0 - 2021-04-08
* Добавлен основной контент плагина.
* Используемая версия пакета Unity IAP установлена в 3.0.1.
